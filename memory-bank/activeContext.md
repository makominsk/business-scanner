# Active Context: Бизнес-сканер MVP

**Текущий фокус работы:**
- Завершение реализации MVP и написание тестов.

**Недавние изменения:**
- Созданы все основные файлы Memory Bank.
- Подтверждена замена Google Places API на RapidAPI Local Business Data.
- Уточнен план по безопасности и тестированию.
- Создан файл `.env.local.example` и `.env.local` добавлен в `.gitignore`.
- Установлены все необходимые зависимости, включая `@google/generative-ai`, `vitest`, `@vitejs/plugin-react`, `vite-tsconfig-paths`.
- Реализованы все сервисные модули (`lib/schemas.ts`, `lib/local-business-api.ts`, `lib/scraper.ts`, `lib/normalizer.ts`, `lib/google-sheets.ts`).
- Реализован API-эндпоинт `/api/scan/route.ts` с оркестрацией и SSE.
- Обновлен `app/page.tsx` для интеграции с бэкендом.
- Написаны unit-тесты для `lib/schemas.ts`, `lib/scraper.ts`, `lib/normalizer.ts`.
- Написаны интеграционные тесты для `/api/scan/route.ts`.
- Исправлены ошибки TypeScript, связанные с `vi` namespace и `process.env` в тестовых файлах, а также с отображением `socials` на фронтенде.
- Настроен `vitest.config.ts` и `tsconfig.json` для корректной работы `vitest`.

**Следующие шаги:**
1.  Запустить тесты, чтобы убедиться, что все работает корректно.
2.  Представить результат работы.

**Активные решения и соображения:**
- **Безопасность:** Строгое соблюдение принципа "секреты только на сервере".
- **Тестирование:** Приоритет unit- и интеграционным тестам для обеспечения надежности.
- **Дизайн:** Максимальное использование существующего UI из `app/page.tsx`.
- **API:** Использование RapidAPI Local Business Data API вместо Google Places API.
- **Установка зависимостей:** Конфликт версий `react` с `vaul` был временно решен с помощью `--force`. Это может потребовать дальнейшего изучения, если возникнут проблемы.

**Важные паттерны и предпочтения:**
- Использование TypeScript для всей кодовой базы.
- Применение `Zod` для валидации данных.
- Модульная архитектура для сервисного слоя.

**Полученные знания и инсайты:**
- Существующий фронтенд `app/page.tsx` уже содержит все необходимые состояния UI (поиск, прогресс, результаты), что значительно упрощает разработку.
- `package.json` уже включает `zod` и `react-hook-form`.
